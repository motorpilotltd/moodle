define(["jquery","core/config","theme_bootstrap/bootstrap","core/log"],function(a,b,c,d){"use strict";return d.debug("Arup Timezone Selector"),{init:function(){a(document).ready(function(a){a(".setusertime").click(function(b){b.preventDefault(),a("#updatetimezone").modal("show")}),a("#timezoneselector").change(function(){var c=a(this).find(":selected").text();a.ajax({type:"POST",url:b.wwwroot+"/theme/arup/ajax.php?sesskey="+b.sesskey,data:{action:"settimezone",value:c},success:function(b){"object"!=typeof b&&(b={success:!1,message:s,data:""}),b.success&&(d.debug("success"),a(".setusertime").html(b.data),a("#updatetimezonesuccess").removeClass("hidden"))},error:function(){d.debug("fail")},complete:function(){d.debug("complete")}})})}),d.debug("Arup Select Timezone done")}}});