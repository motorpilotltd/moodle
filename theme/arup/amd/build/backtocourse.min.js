define(["jquery","core/log"],function(a,b){"use strict";return b.debug("backtocourse"),{init:function(c,d){b.debug("backtocourse | init | sectionnum "+c+" | injectsections"+d);var e=function(c){var d=a("body").hasClass("format-aruponepage");a('.navbar .breadcrumb, #page-content div[role="main"]').find("a[href*='course/view']").each(function(a,e){e.href.match("section")||(e.href+=d===!0?"&section="+c:"#section-"+c,b.debug(e.href))})},f=function(b){a("form[action*='course/view']").each(function(){if(a("body").hasClass("format-aruponepage"))0===a(this).find("input[name='section']").length&&a(this).append('<input type="hidden" name="section" value="'+b+'" />');else{var c=a(this).attr("action");a(this).attr("action",c+"#section-"+b)}})};a(document).ready(function(){d&&c&&(e(c),f(c))})}}});