define(["jquery","core/custom_interaction_events"],function(a,b){var c={NAVBAR:'[data-nav-status="toggle"]',MEGAMENU:'[data-region="megamenu"]',NAVDRAWER:'[data-region="drawer"]'},d=0,e=0,f=function(){a(c.NAVBAR).removeClass("is-visible").addClass("is-hidden"),a(c.NAVDRAWER).removeClass("top-navbar").addClass("no-navbar")},g=function(){a(c.NAVBAR).removeClass("is-hidden").addClass("is-visible"),a(c.NAVDRAWER).removeClass("no-navbar").addClass("top-navbar")},h=function(){b.define(a(c.MEGAMENU),[b.events.activate]),a(c.MEGAMENU).on("show.bs.collapse",function(){a(c.NAVBAR).removeClass("hide-megamenu").addClass("show-megamenu")}),a(c.MEGAMENU).on("hidden.bs.collapse",function(){a(c.NAVBAR).removeClass("show-megamenu").addClass("hide-megamenu")})},i=function(){a(window).scroll(function(){e=a(this).scrollTop(),e>80&&e<a(document).height()-a(window).height()&&(e>d?window.setTimeout(f,300):window.setTimeout(g,300),d=e)})},j=function(a){a.attr("data-init-scroll")||(i(a),h(),a.attr("data-init-scroll",!0))};return{init:j}});