define(["jquery","core/config","core/str","core/notification","theme_bootstrap/bootstrap"],function(a,b,c,d){return{init:function(){var e="",f="",g="",h=(a("#reject-evidence-modal"),a("#approve-evidence-modal"),a(".modal"));a(".action-evidence").on("click",function(b){b.preventDefault(),e=a(this).data("ahbuserid"),f=a(this).data("cmid"),g=a(this).data("actiontype"),a("#"+g+"-evidence-modal").modal("show")}),h.on("shown.bs.modal",function(){var h=a(this);h.on("click","#"+g+"-evidence-btn",function(){var i=a(this);i.prop("disabled",!0),c.get_string("label:processing","mod_arupevidence").done(function(a){i.html('<i class="fa fa-lg fa-fw fa-spinner fa-spin"></i><span class="sr-only">'+a+"</span>")}).fail(d.exception);var j=0!=h.find("#reject-message").length?h.find("#reject-message").val():"";a.ajax({async:!1,type:"POST",url:b.wwwroot+"/mod/arupevidence/ajax.php",data:{action:g,ae_userid:e,id:f,reject_message:j},success:function(a){location.reload()},error:function(a){location.reload()}}),h.modal("hide")})})}}});