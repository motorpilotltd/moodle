!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],b):b(a.URI)}(this,function(a){"use strict";var b=a.prototype,c=b.fragment,d=b.build;a.fragmentPrefix="!";var e=a._parts;return a._parts=function(){var b=e();return b.fragmentPrefix=a.fragmentPrefix,b},b.fragmentPrefix=function(a){return this._parts.fragmentPrefix=a,this},b.fragment=function(b,d){var e,f=this._parts.fragmentPrefix,g=this._parts.fragment||"";return b===!0?(e=g.substring(0,f.length)!==f?a(""):new a(g.substring(f.length)),this._fragmentURI=e,e._parentURI=this,e):void 0!==b&&"string"!=typeof b?(this._fragmentURI=b,b._parentURI=b,this._parts.fragment=f+b.toString(),this.build(!d),this):("string"==typeof b&&(this._fragmentURI=void 0),c.call(this,b,d))},b.build=function(a){var b=d.call(this,a);return a!==!1&&this._parentURI&&this._parentURI.fragment(this),b},a});