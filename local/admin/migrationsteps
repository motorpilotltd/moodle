Remove concept of linked course
Namespaces
Migrate events, all related tables
Configurable reports - Not worrying for tapscompletion as only two exist and they look to be used by admin users - id 149 and 152, will need fixing by hand







Migrations:

tapscompletion - mod/tapscompletion/cli/migrate.php
There's only one course where there is an enrol but no completion, I'm going to not worry about this one exception.
For all others tapsenrol upgrade step 2015111613 copies the values into the three fields that have been migrated

tapscompletion_completion - ignore
Out of 162155 completions of a mod_tapsenrol activity there are 672 where they haven't also completed the associated taps compeltion module so am ignoring this as an edge case:
select cm_enrol.id, cm_tapcompletion.id from mdl_tapsenrol te
inner join mdl_course_modules cm_enrol on cm_enrol.instance = te.id and cm_enrol.module = 31
inner join mdl_course_modules cm_tapcompletion on cm_enrol.course = cm_tapcompletion.course and cm_tapcompletion.module = 30
inner join mdl_tapscompletion tc on tc.id = cm_tapcompletion.instance
inner join mdl_course_modules_completion cmc_enrol on cm_enrol.id = cmc_enrol.coursemoduleid
left join mdl_course_modules_completion cmc_tapcompletion on cm_tapcompletion.id = cmc_tapcompletion.coursemoduleid and cmc_enrol.userid = cmc_tapcompletion.userid
where cmc_enrol.completionstate <> cmc_tapcompletion.completionstate;

Delete all instances of tapscompletion - mod/tapscompletion/cli/migrate.php
Update logstore_standard_log - mod/tapscompletion/cli/migrate.php




php mod/arupadvert/cli/migrate.php --domigration
php filter/arupmetadata/cli/migrate.php --domigration
php local/coursemanager/cli/migrate.php --domigration
php mod/tapscompletion/cli/migrate.php --domigration
php mod/tapsenrol/cli/migrate.php --domigration
php local/learningrecordstore/cli/migrate.php --domigration

uninstall plugins:
mod_arupadvert
mod_tapscompletion
local_taps
local_coursemanager