define(["jquery","core/str","core/notification"],function(a,b,c){return{init:function(){a(".sendfeedbackbtn").click(function(){a("input[name=buttonclicked]").val(1)}),a(".savedraftbtn").click(function(){a("input[name=buttonclicked]").val(2)}),b.get_string("form:addfeedback:confirm","local_onlineappraisal").done(function(d){a('input[name="_qf__apform_addfeedback"]').closest("form").submit(function(e){e.preventDefault();var f=a(this),g=a("input[name=buttonclicked]").val();1==g&&c.confirm("Submit Feedback",d,"Ok","Cancel",function(){f.unbind("submit").submit()}),2==g&&b.get_string("form:addfeedback:saveddraft","local_onlineappraisal").done(function(a){c.alert("Save Draft",a,"OK"),setTimeout(function(){f.unbind("submit").submit()},4e3)})})}).fail(c.exception)}}});