if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-local_kaltura-ltipanel/moodle-local_kaltura-ltipanel.js']) {
   __coverage__['build/moodle-local_kaltura-ltipanel/moodle-local_kaltura-ltipanel.js'] = {"path":"build/moodle-local_kaltura-ltipanel/moodle-local_kaltura-ltipanel.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":41},"end":{"line":1,"column":60}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":15},"end":{"line":31,"column":26}}},"3":{"name":"(anonymous_3)","line":57,"loc":{"start":{"line":57,"column":11},"end":{"line":57,"column":28}}},"4":{"name":"(anonymous_4)","line":76,"loc":{"start":{"line":76,"column":30},"end":{"line":76,"column":62}}},"5":{"name":"(anonymous_5)","line":99,"loc":{"start":{"line":99,"column":30},"end":{"line":99,"column":41}}},"6":{"name":"(anonymous_6)","line":118,"loc":{"start":{"line":118,"column":27},"end":{"line":118,"column":38}}},"7":{"name":"(anonymous_7)","line":138,"loc":{"start":{"line":138,"column":48},"end":{"line":138,"column":59}}},"8":{"name":"(anonymous_8)","line":173,"loc":{"start":{"line":173,"column":30},"end":{"line":173,"column":41}}},"9":{"name":"(anonymous_9)","line":183,"loc":{"start":{"line":183,"column":11},"end":{"line":183,"column":28}}},"10":{"name":"(anonymous_10)","line":198,"loc":{"start":{"line":198,"column":29},"end":{"line":198,"column":61}}},"11":{"name":"(anonymous_11)","line":221,"loc":{"start":{"line":221,"column":30},"end":{"line":221,"column":41}}},"12":{"name":"(anonymous_12)","line":235,"loc":{"start":{"line":235,"column":26},"end":{"line":235,"column":37}}},"13":{"name":"(anonymous_13)","line":272,"loc":{"start":{"line":272,"column":26},"end":{"line":272,"column":37}}},"14":{"name":"(anonymous_14)","line":291,"loc":{"start":{"line":291,"column":11},"end":{"line":291,"column":40}}},"15":{"name":"(anonymous_15)","line":301,"loc":{"start":{"line":301,"column":24},"end":{"line":301,"column":36}}},"16":{"name":"(anonymous_16)","line":329,"loc":{"start":{"line":329,"column":23},"end":{"line":329,"column":40}}},"17":{"name":"(anonymous_17)","line":338,"loc":{"start":{"line":338,"column":38},"end":{"line":338,"column":55}}},"18":{"name":"(anonymous_18)","line":347,"loc":{"start":{"line":347,"column":39},"end":{"line":347,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":360,"column":80}},"2":{"start":{"line":31,"column":0},"end":{"line":33,"column":2}},"3":{"start":{"line":32,"column":4},"end":{"line":32,"column":59}},"4":{"start":{"line":35,"column":0},"end":{"line":165,"column":3}},"5":{"start":{"line":59,"column":8},"end":{"line":62,"column":9}},"6":{"start":{"line":60,"column":12},"end":{"line":60,"column":59}},"7":{"start":{"line":61,"column":12},"end":{"line":61,"column":19}},"8":{"start":{"line":64,"column":8},"end":{"line":64,"column":44}},"9":{"start":{"line":65,"column":8},"end":{"line":65,"column":46}},"10":{"start":{"line":67,"column":8},"end":{"line":67,"column":56}},"11":{"start":{"line":68,"column":8},"end":{"line":68,"column":118}},"12":{"start":{"line":77,"column":8},"end":{"line":77,"column":21}},"13":{"start":{"line":78,"column":8},"end":{"line":78,"column":20}},"14":{"start":{"line":79,"column":8},"end":{"line":79,"column":94}},"15":{"start":{"line":80,"column":8},"end":{"line":80,"column":90}},"16":{"start":{"line":82,"column":8},"end":{"line":82,"column":151}},"17":{"start":{"line":83,"column":8},"end":{"line":83,"column":157}},"18":{"start":{"line":85,"column":8},"end":{"line":85,"column":60}},"19":{"start":{"line":86,"column":8},"end":{"line":86,"column":59}},"20":{"start":{"line":87,"column":8},"end":{"line":87,"column":180}},"21":{"start":{"line":89,"column":8},"end":{"line":91,"column":9}},"22":{"start":{"line":90,"column":12},"end":{"line":90,"column":29}},"23":{"start":{"line":93,"column":8},"end":{"line":93,"column":42}},"24":{"start":{"line":94,"column":8},"end":{"line":94,"column":65}},"25":{"start":{"line":95,"column":8},"end":{"line":95,"column":62}},"26":{"start":{"line":96,"column":8},"end":{"line":96,"column":101}},"27":{"start":{"line":100,"column":8},"end":{"line":100,"column":31}},"28":{"start":{"line":101,"column":8},"end":{"line":108,"column":9}},"29":{"start":{"line":102,"column":12},"end":{"line":102,"column":66}},"30":{"start":{"line":106,"column":12},"end":{"line":106,"column":69}},"31":{"start":{"line":107,"column":12},"end":{"line":107,"column":82}},"32":{"start":{"line":110,"column":8},"end":{"line":110,"column":34}},"33":{"start":{"line":120,"column":8},"end":{"line":120,"column":57}},"34":{"start":{"line":121,"column":8},"end":{"line":121,"column":46}},"35":{"start":{"line":123,"column":8},"end":{"line":123,"column":58}},"36":{"start":{"line":124,"column":8},"end":{"line":124,"column":89}},"37":{"start":{"line":125,"column":8},"end":{"line":125,"column":91}},"38":{"start":{"line":126,"column":8},"end":{"line":126,"column":49}},"39":{"start":{"line":129,"column":8},"end":{"line":129,"column":54}},"40":{"start":{"line":131,"column":8},"end":{"line":133,"column":9}},"41":{"start":{"line":132,"column":12},"end":{"line":132,"column":61}},"42":{"start":{"line":135,"column":8},"end":{"line":135,"column":39}},"43":{"start":{"line":140,"column":8},"end":{"line":140,"column":80}},"44":{"start":{"line":141,"column":8},"end":{"line":143,"column":9}},"45":{"start":{"line":142,"column":12},"end":{"line":142,"column":77}},"46":{"start":{"line":173,"column":0},"end":{"line":175,"column":2}},"47":{"start":{"line":174,"column":4},"end":{"line":174,"column":74}},"48":{"start":{"line":177,"column":0},"end":{"line":266,"column":3}},"49":{"start":{"line":185,"column":8},"end":{"line":187,"column":9}},"50":{"start":{"line":186,"column":12},"end":{"line":186,"column":19}},"51":{"start":{"line":189,"column":8},"end":{"line":189,"column":56}},"52":{"start":{"line":190,"column":8},"end":{"line":190,"column":118}},"53":{"start":{"line":199,"column":8},"end":{"line":199,"column":21}},"54":{"start":{"line":200,"column":8},"end":{"line":200,"column":20}},"55":{"start":{"line":201,"column":8},"end":{"line":201,"column":94}},"56":{"start":{"line":202,"column":8},"end":{"line":202,"column":90}},"57":{"start":{"line":204,"column":8},"end":{"line":204,"column":151}},"58":{"start":{"line":205,"column":8},"end":{"line":205,"column":157}},"59":{"start":{"line":207,"column":8},"end":{"line":207,"column":60}},"60":{"start":{"line":208,"column":8},"end":{"line":208,"column":59}},"61":{"start":{"line":209,"column":8},"end":{"line":209,"column":180}},"62":{"start":{"line":211,"column":8},"end":{"line":213,"column":9}},"63":{"start":{"line":212,"column":12},"end":{"line":212,"column":29}},"64":{"start":{"line":215,"column":8},"end":{"line":215,"column":42}},"65":{"start":{"line":216,"column":8},"end":{"line":216,"column":65}},"66":{"start":{"line":217,"column":8},"end":{"line":217,"column":62}},"67":{"start":{"line":218,"column":8},"end":{"line":218,"column":101}},"68":{"start":{"line":222,"column":8},"end":{"line":222,"column":31}},"69":{"start":{"line":223,"column":8},"end":{"line":230,"column":9}},"70":{"start":{"line":224,"column":12},"end":{"line":224,"column":66}},"71":{"start":{"line":228,"column":12},"end":{"line":228,"column":69}},"72":{"start":{"line":229,"column":12},"end":{"line":229,"column":82}},"73":{"start":{"line":232,"column":8},"end":{"line":232,"column":34}},"74":{"start":{"line":236,"column":8},"end":{"line":236,"column":68}},"75":{"start":{"line":238,"column":8},"end":{"line":238,"column":57}},"76":{"start":{"line":239,"column":8},"end":{"line":239,"column":46}},"77":{"start":{"line":241,"column":8},"end":{"line":241,"column":58}},"78":{"start":{"line":242,"column":8},"end":{"line":242,"column":89}},"79":{"start":{"line":243,"column":8},"end":{"line":243,"column":91}},"80":{"start":{"line":244,"column":8},"end":{"line":244,"column":49}},"81":{"start":{"line":245,"column":8},"end":{"line":245,"column":95}},"82":{"start":{"line":246,"column":8},"end":{"line":246,"column":39}},"83":{"start":{"line":272,"column":0},"end":{"line":274,"column":2}},"84":{"start":{"line":273,"column":4},"end":{"line":273,"column":70}},"85":{"start":{"line":276,"column":0},"end":{"line":320,"column":3}},"86":{"start":{"line":292,"column":8},"end":{"line":292,"column":53}},"87":{"start":{"line":293,"column":8},"end":{"line":293,"column":113}},"88":{"start":{"line":302,"column":8},"end":{"line":302,"column":27}},"89":{"start":{"line":303,"column":8},"end":{"line":303,"column":34}},"90":{"start":{"line":305,"column":8},"end":{"line":313,"column":9}},"91":{"start":{"line":306,"column":12},"end":{"line":306,"column":51}},"92":{"start":{"line":307,"column":12},"end":{"line":307,"column":129}},"93":{"start":{"line":308,"column":12},"end":{"line":308,"column":127}},"94":{"start":{"line":310,"column":12},"end":{"line":310,"column":89}},"95":{"start":{"line":311,"column":12},"end":{"line":311,"column":129}},"96":{"start":{"line":312,"column":12},"end":{"line":312,"column":127}},"97":{"start":{"line":315,"column":8},"end":{"line":315,"column":85}},"98":{"start":{"line":322,"column":0},"end":{"line":322,"column":40}},"99":{"start":{"line":329,"column":0},"end":{"line":331,"column":2}},"100":{"start":{"line":330,"column":4},"end":{"line":330,"column":32}},"101":{"start":{"line":338,"column":0},"end":{"line":340,"column":2}},"102":{"start":{"line":339,"column":4},"end":{"line":339,"column":47}},"103":{"start":{"line":347,"column":0},"end":{"line":357,"column":2}},"104":{"start":{"line":348,"column":4},"end":{"line":354,"column":6}},"105":{"start":{"line":355,"column":4},"end":{"line":355,"column":60}},"106":{"start":{"line":356,"column":4},"end":{"line":356,"column":52}}},"branchMap":{"1":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"2":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":38}},{"start":{"line":59,"column":42},"end":{"line":59,"column":69}},{"start":{"line":59,"column":73},"end":{"line":59,"column":94}},{"start":{"line":59,"column":98},"end":{"line":59,"column":117}},{"start":{"line":59,"column":121},"end":{"line":59,"column":139}}]},"3":{"line":79,"type":"cond-expr","locations":[{"start":{"line":79,"column":62},"end":{"line":79,"column":79}},{"start":{"line":79,"column":82},"end":{"line":79,"column":93}}]},"4":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":60},"end":{"line":80,"column":76}},{"start":{"line":80,"column":79},"end":{"line":80,"column":89}}]},"5":{"line":82,"type":"cond-expr","locations":[{"start":{"line":82,"column":40},"end":{"line":82,"column":57}},{"start":{"line":82,"column":60},"end":{"line":82,"column":150}}]},"6":{"line":82,"type":"cond-expr","locations":[{"start":{"line":82,"column":99},"end":{"line":82,"column":135}},{"start":{"line":82,"column":138},"end":{"line":82,"column":150}}]},"7":{"line":83,"type":"cond-expr","locations":[{"start":{"line":83,"column":42},"end":{"line":83,"column":60}},{"start":{"line":83,"column":63},"end":{"line":83,"column":156}}]},"8":{"line":83,"type":"cond-expr","locations":[{"start":{"line":83,"column":103},"end":{"line":83,"column":140}},{"start":{"line":83,"column":143},"end":{"line":83,"column":156}}]},"9":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]},"10":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":8},"end":{"line":101,"column":8}},{"start":{"line":101,"column":8},"end":{"line":101,"column":8}}]},"11":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":131,"column":8}},{"start":{"line":131,"column":8},"end":{"line":131,"column":8}}]},"12":{"line":131,"type":"binary-expr","locations":[{"start":{"line":131,"column":12},"end":{"line":131,"column":33}},{"start":{"line":131,"column":38},"end":{"line":131,"column":69}},{"start":{"line":131,"column":73},"end":{"line":131,"column":105}}]},"13":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]},"14":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":8},"end":{"line":185,"column":8}},{"start":{"line":185,"column":8},"end":{"line":185,"column":8}}]},"15":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":12},"end":{"line":185,"column":38}},{"start":{"line":185,"column":42},"end":{"line":185,"column":69}},{"start":{"line":185,"column":73},"end":{"line":185,"column":94}},{"start":{"line":185,"column":98},"end":{"line":185,"column":117}},{"start":{"line":185,"column":121},"end":{"line":185,"column":139}}]},"16":{"line":201,"type":"cond-expr","locations":[{"start":{"line":201,"column":62},"end":{"line":201,"column":79}},{"start":{"line":201,"column":82},"end":{"line":201,"column":93}}]},"17":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":60},"end":{"line":202,"column":76}},{"start":{"line":202,"column":79},"end":{"line":202,"column":89}}]},"18":{"line":204,"type":"cond-expr","locations":[{"start":{"line":204,"column":40},"end":{"line":204,"column":57}},{"start":{"line":204,"column":60},"end":{"line":204,"column":150}}]},"19":{"line":204,"type":"cond-expr","locations":[{"start":{"line":204,"column":99},"end":{"line":204,"column":135}},{"start":{"line":204,"column":138},"end":{"line":204,"column":150}}]},"20":{"line":205,"type":"cond-expr","locations":[{"start":{"line":205,"column":42},"end":{"line":205,"column":60}},{"start":{"line":205,"column":63},"end":{"line":205,"column":156}}]},"21":{"line":205,"type":"cond-expr","locations":[{"start":{"line":205,"column":103},"end":{"line":205,"column":140}},{"start":{"line":205,"column":143},"end":{"line":205,"column":156}}]},"22":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":8},"end":{"line":211,"column":8}},{"start":{"line":211,"column":8},"end":{"line":211,"column":8}}]},"23":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":8},"end":{"line":223,"column":8}},{"start":{"line":223,"column":8},"end":{"line":223,"column":8}}]},"24":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8}},{"start":{"line":305,"column":8},"end":{"line":305,"column":8}}]},"25":{"line":322,"type":"binary-expr","locations":[{"start":{"line":322,"column":18},"end":{"line":322,"column":33}},{"start":{"line":322,"column":37},"end":{"line":322,"column":39}}]}},"code":["(function () { YUI.add('moodle-local_kaltura-ltipanel', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/","//","// Moodle is free software: you can redistribute it and/or modify","// it under the terms of the GNU General Public License as published by","// the Free Software Foundation, either version 3 of the License, or","// (at your option) any later version.","//","// Moodle is distributed in the hope that it will be useful,","// but WITHOUT ANY WARRANTY; without even the implied warranty of","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","// GNU General Public License for more details.","//","// You should have received a copy of the GNU General Public License","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.","","/**"," * YUI module for displaying an LTI launch within a YUI panel."," *"," * @package    local_kaltura"," * @author     Remote-Learner.net Inc"," * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later"," * @copyright  (C) 2014 Remote Learner.net Inc http://www.remote-learner.net"," */",""," /**"," * This method calls the base class constructor"," * @method LTIPANEL"," */","var LTIPANEL = function() {","    LTIPANEL.superclass.constructor.apply(this, arguments);","};","","Y.extend(LTIPANEL, Y.Base, {","    /**","     * The name of the initiating module.","     * @property modulename","     * @type {String}","     * @default null","     */","    modulename: null,","","    /**","     * The id value of the add media button.","     * @property addvidbtnid","     * @type {String}","     * @default null","     */","    addvidbtnid: null,","","    /**","     * Init function for the checkboxselection module","     * @property params","     * @type {Object}","     */","    init : function(params) {","        // Check to make sure parameters are initialized","        if ('0' === params.addvidbtnid || '0' === params.ltilaunchurl || 0 === params.courseid || 0 === params.height || 0 === params.width) {","            alert('Some parameters were not initialized.');","            return;","        }","","        this.modulename = params.modulename;","        this.addvidbtnid = params.addvidbtnid;","","        var addvideobtn = Y.one('#'+params.addvidbtnid);","        addvideobtn.on('click', this.open_bse_popup_callback, this, params.ltilaunchurl, params.height, params.width);","    },","","    /**","     * Event handler callback for when the add video button is clicked.  This function creates the a panel element.","     * @property e","     * @type {Object}","     */","    open_bse_popup_callback : function(e, url, height, width) {","        var w = 1200;","        var h = 700;","        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;","        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;","","        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;","        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;","","        var left = ((width / 2) - (w / 2)) + dualScreenLeft;","        var top = ((height / 2) - (h / 2)) + dualScreenTop;","        var bsePopup = window.open(url, M.util.get_string(\"browse_and_embed\", \"local_kaltura\"), 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);","","        if (window.focus) {","            bsePopup.focus();","        }","","        document.body.bsePopup = bsePopup;","        var entrySelectedEvent = this.createEntrySelectedEvent();","        document.body.entrySelectedEvent = entrySelectedEvent;","        document.body.addEventListener('entrySelected', this.close_popup_callback.bind(this), false);","    },","","    createEntrySelectedEvent: function() {","        var entrySelectedEvent;","        if(typeof window.CustomEvent === 'function') {","            entrySelectedEvent = new CustomEvent('entrySelected');","        }","        else {","            // ie >= 9","            entrySelectedEvent = document.createEvent('CustomEvent');","            entrySelectedEvent.initCustomEvent('entrySelected', false, false, {});","        }","","        return entrySelectedEvent;","    },","","","","    /**","     * Event handler callback for when a simulated click event is triggered on a specifc element.","     */","    close_popup_callback : function() {","        // hide the thumbnail image.","        var imagenode = Y.one('img[id=video_thumbnail]');","        imagenode.setStyle('display', 'none');","        // Update the iframe element attributes","        var iframenode = Y.one('iframe[id=contentframe]');","        iframenode.setAttribute('width', Y.one('input[id=width]').getAttribute('value'));","        iframenode.setAttribute('height', Y.one('input[id=height]').getAttribute('value'));","        iframenode.setStyle('display', 'inline');","","        // If the page is a Video presentation or resource execute a function to change the button caption KALDEV-579","        var element = Y.one('input[name=modulename]');","","        if (undefined !== element && ('kalvidres' === this.modulename || 'kalvidpres' === this.modulename)) {","            this.lti_panel_change_add_media_button_caption();","        }","","        document.body.bsePopup.close();","    },","","    lti_panel_change_add_media_button_caption : function() {","        // Need to find a better way of doing this.  Change was made for KALDEV-579.","        var buttoncaption = M.util.get_string('replace_video', this.modulename);","        if (buttoncaption !== Y.one('#'+this.addvidbtnid).getAttribute('value')) {","            Y.one('#'+this.addvidbtnid).setAttribute('value', buttoncaption);","        }","    },","},","{","    NAME : 'moodle-local_kaltura-ltipanel',","    ATTRS : {","        addvidbtnid : {","            value: '0'","        },","        ltilaunchurl : {","            value: '0'","        },","        height : {","            value: 0","        },","        width : {","            value: 0","        },","        modulename : {","            value: ''","        }","    }","});","","/**"," * This method calls the base class constructor.  The primary difference between LTIPANELMEDIAASSIGNMENT and LTIPANEL is that"," * LTIPANELMEDIAASSIGNMENT creates a node and appends it to the body tag of the page.  The reason for this is due to an issue with the Moodle"," * navbar covering up part of the YUI panel, if the panel markup is appended to a child element within the body tag."," * @method LTIPANELMEDIAASSIGNMENT"," */","var LTIPANELMEDIAASSIGNMENT = function() {","    LTIPANELMEDIAASSIGNMENT.superclass.constructor.apply(this, arguments);","};","","Y.extend(LTIPANELMEDIAASSIGNMENT, Y.Base, {","    /**","     * Init function for the checkboxselection module","     * @property params","     * @type {Object}","     */","    init : function(params) {","        // Check to make sure parameters are initialized","        if ('0' === params.addvidbtnid || '0' === params.ltilaunchurl || 0 === params.courseid || 0 === params.height || 0 === params.width) {","            return;","        }","","        var addvideobtn = Y.one('#'+params.addvidbtnid);","        addvideobtn.on('click', this.open_bse_popup_callback, this, params.ltilaunchurl, params.height, params.width);","    },","","    /**","     * Event handler callback for when the panel content is changed","     * @property e","     * @type {Object}","     */","    open_bse_popup_callback: function(e, url, height, width) {","        var w = 1200;","        var h = 700;","        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;","        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;","","        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;","        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;","","        var left = ((width / 2) - (w / 2)) + dualScreenLeft;","        var top = ((height / 2) - (h / 2)) + dualScreenTop;","        var bsePopup = window.open(url, M.util.get_string(\"browse_and_embed\", \"local_kaltura\"), 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);","","        if (window.focus) {","            bsePopup.focus();","        }","","        document.body.bsePopup = bsePopup;","        var entrySelectedEvent = this.createEntrySelectedEvent();","        document.body.entrySelectedEvent = entrySelectedEvent;","        document.body.addEventListener('entrySelected', this.close_popup_callback.bind(this), false);","    },","","    createEntrySelectedEvent: function() {","        var entrySelectedEvent;","        if(typeof window.CustomEvent === 'function') {","            entrySelectedEvent = new CustomEvent('entrySelected');","        }","        else {","            // ie >= 9","            entrySelectedEvent = document.createEvent('CustomEvent');","            entrySelectedEvent.initCustomEvent('entrySelected', false, false, {});","        }","","        return entrySelectedEvent;","    },","","    close_popup_callback: function() {","        Y.one('input[id=submit_video]').removeAttribute('disabled');","        // hide the thumbnail image.","        var imagenode = Y.one('img[id=video_thumbnail]');","        imagenode.setStyle('display', 'none');","        // Update the iframe element attributes","        var iframenode = Y.one('iframe[id=contentframe]');","        iframenode.setAttribute('width', Y.one('input[id=width]').getAttribute('value'));","        iframenode.setAttribute('height', Y.one('input[id=height]').getAttribute('value'));","        iframenode.setStyle('display', 'inline');","        Y.one('#id_add_video').set('value', M.util.get_string('replacevideo', 'kalvidassign'));","        document.body.bsePopup.close();","    },","","},","{","    NAME : 'moodle-local_kaltura-ltipanel',","    ATTRS : {","        addvidbtnid : {","            value: '0'","        },","        ltilaunchurl : {","            value: '0'","        },","        height : {","            value: 0","        },","        width : {","            value: 0","        }","    }","});","","/**"," * This method calls the base class constructor.  This module renders a Panel for viewing media from multiple sources."," * @method LTISUBMISSIONREVIEW"," */","var LTISUBMISSIONREVIEW = function() {","    LTISUBMISSIONREVIEW.superclass.constructor.apply(this, arguments);","};","","Y.extend(LTISUBMISSIONREVIEW, Y.Base, {","    /**","     * An instance of the ltimediaassignment class.","     * @property ltimediaassignment","     * @type {Object}","     * @default null","     */","     ltimediaassignment: null,","","","    /**","     * Init function for the checkboxselection module","     * @property params","     * @type {Object}","     */","    init : function(ltimediaassignment) {","        this.ltimediaassignment = ltimediaassignment;","        Y.one('form[id=fastgrade]').delegate('click', this.review_submission, 'a[name=submission_source]', this);","    },","","    /**","     * Callback function for when a user clicks on the review submission link.","     * @property e","     * @type {Object}","     */","    review_submission : function(e) {","        e.preventDefault();","        var source, height, width;","        // Test if the target is an anchor tag or img tag.","        if (e.target.test('a')) {","            source = e.target.getAttribute('href');","            height = e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=height]').get('value');","            width = e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=width]').get('value');","        } else {","            source = e.target.ancestor('a[name=submission_source]').getAttribute('href');","            height = e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=height]').get('value');","            width = e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=width]').get('value');","        }","","        this.ltimediaassignment.open_bse_popup_callback(null, source, height, width);","    }","},","{","    NAME : 'moodle-local_kaltura-ltipanel'","});","","M.local_kaltura = M.local_kaltura || {};","","/**"," * Entry point for ltipanel module"," * @param string params additional parameters."," * @return object the ltipanel object"," */","M.local_kaltura.init = function(params) {","    return new LTIPANEL(params);","};","","/**"," * Entry point for ltipanelmediaassignment module"," * @param string params additional parameters."," * @return object the ltipanel object"," */","M.local_kaltura.initmediaassignment = function(params) {","    return new LTIPANELMEDIAASSIGNMENT(params);","};","","/**"," * Entry point for ltipanelmediaassignment module"," * @param string params additional parameters."," * @return object the ltipanel object"," */","M.local_kaltura.initreviewsubmission = function() {","    var args = {","        addvidbtnid: '0',","        ltilaunchurl: '0',","        courseid: 0,","        height: 0,","        width: 0","    };","    var mediaassignment = new LTIPANELMEDIAASSIGNMENT(args);","    return new LTISUBMISSIONREVIEW(mediaassignment);","};","","","}, '@VERSION@', {\"requires\": [\"base\", \"node\", \"panel\", \"node-event-simulate\"]});","","}());"]};
}
var __cov_wkXEHP40LhHdU9EOUxrnWg = __coverage__['build/moodle-local_kaltura-ltipanel/moodle-local_kaltura-ltipanel.js'];
__cov_wkXEHP40LhHdU9EOUxrnWg.s['1']++;YUI.add('moodle-local_kaltura-ltipanel',function(Y,NAME){__cov_wkXEHP40LhHdU9EOUxrnWg.f['1']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['2']++;var LTIPANEL=function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['2']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['3']++;LTIPANEL.superclass.constructor.apply(this,arguments);};__cov_wkXEHP40LhHdU9EOUxrnWg.s['4']++;Y.extend(LTIPANEL,Y.Base,{modulename:null,addvidbtnid:null,init:function(params){__cov_wkXEHP40LhHdU9EOUxrnWg.f['3']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['5']++;if((__cov_wkXEHP40LhHdU9EOUxrnWg.b['2'][0]++,'0'===params.addvidbtnid)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['2'][1]++,'0'===params.ltilaunchurl)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['2'][2]++,0===params.courseid)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['2'][3]++,0===params.height)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['2'][4]++,0===params.width)){__cov_wkXEHP40LhHdU9EOUxrnWg.b['1'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['6']++;alert('Some parameters were not initialized.');__cov_wkXEHP40LhHdU9EOUxrnWg.s['7']++;return;}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['1'][1]++;}__cov_wkXEHP40LhHdU9EOUxrnWg.s['8']++;this.modulename=params.modulename;__cov_wkXEHP40LhHdU9EOUxrnWg.s['9']++;this.addvidbtnid=params.addvidbtnid;__cov_wkXEHP40LhHdU9EOUxrnWg.s['10']++;var addvideobtn=Y.one('#'+params.addvidbtnid);__cov_wkXEHP40LhHdU9EOUxrnWg.s['11']++;addvideobtn.on('click',this.open_bse_popup_callback,this,params.ltilaunchurl,params.height,params.width);},open_bse_popup_callback:function(e,url,height,width){__cov_wkXEHP40LhHdU9EOUxrnWg.f['4']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['12']++;var w=1200;__cov_wkXEHP40LhHdU9EOUxrnWg.s['13']++;var h=700;__cov_wkXEHP40LhHdU9EOUxrnWg.s['14']++;var dualScreenLeft=window.screenLeft!=undefined?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['3'][0]++,window.screenLeft):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['3'][1]++,screen.left);__cov_wkXEHP40LhHdU9EOUxrnWg.s['15']++;var dualScreenTop=window.screenTop!=undefined?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['4'][0]++,window.screenTop):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['4'][1]++,screen.top);__cov_wkXEHP40LhHdU9EOUxrnWg.s['16']++;var width=window.innerWidth?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['5'][0]++,window.innerWidth):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['5'][1]++,document.documentElement.clientWidth?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['6'][0]++,document.documentElement.clientWidth):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['6'][1]++,screen.width));__cov_wkXEHP40LhHdU9EOUxrnWg.s['17']++;var height=window.innerHeight?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['7'][0]++,window.innerHeight):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['7'][1]++,document.documentElement.clientHeight?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['8'][0]++,document.documentElement.clientHeight):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['8'][1]++,screen.height));__cov_wkXEHP40LhHdU9EOUxrnWg.s['18']++;var left=width/2-w/2+dualScreenLeft;__cov_wkXEHP40LhHdU9EOUxrnWg.s['19']++;var top=height/2-h/2+dualScreenTop;__cov_wkXEHP40LhHdU9EOUxrnWg.s['20']++;var bsePopup=window.open(url,M.util.get_string('browse_and_embed','local_kaltura'),'scrollbars=yes, width='+w+', height='+h+', top='+top+', left='+left);__cov_wkXEHP40LhHdU9EOUxrnWg.s['21']++;if(window.focus){__cov_wkXEHP40LhHdU9EOUxrnWg.b['9'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['22']++;bsePopup.focus();}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['9'][1]++;}__cov_wkXEHP40LhHdU9EOUxrnWg.s['23']++;document.body.bsePopup=bsePopup;__cov_wkXEHP40LhHdU9EOUxrnWg.s['24']++;var entrySelectedEvent=this.createEntrySelectedEvent();__cov_wkXEHP40LhHdU9EOUxrnWg.s['25']++;document.body.entrySelectedEvent=entrySelectedEvent;__cov_wkXEHP40LhHdU9EOUxrnWg.s['26']++;document.body.addEventListener('entrySelected',this.close_popup_callback.bind(this),false);},createEntrySelectedEvent:function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['5']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['27']++;var entrySelectedEvent;__cov_wkXEHP40LhHdU9EOUxrnWg.s['28']++;if(typeof window.CustomEvent==='function'){__cov_wkXEHP40LhHdU9EOUxrnWg.b['10'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['29']++;entrySelectedEvent=new CustomEvent('entrySelected');}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['10'][1]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['30']++;entrySelectedEvent=document.createEvent('CustomEvent');__cov_wkXEHP40LhHdU9EOUxrnWg.s['31']++;entrySelectedEvent.initCustomEvent('entrySelected',false,false,{});}__cov_wkXEHP40LhHdU9EOUxrnWg.s['32']++;return entrySelectedEvent;},close_popup_callback:function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['6']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['33']++;var imagenode=Y.one('img[id=video_thumbnail]');__cov_wkXEHP40LhHdU9EOUxrnWg.s['34']++;imagenode.setStyle('display','none');__cov_wkXEHP40LhHdU9EOUxrnWg.s['35']++;var iframenode=Y.one('iframe[id=contentframe]');__cov_wkXEHP40LhHdU9EOUxrnWg.s['36']++;iframenode.setAttribute('width',Y.one('input[id=width]').getAttribute('value'));__cov_wkXEHP40LhHdU9EOUxrnWg.s['37']++;iframenode.setAttribute('height',Y.one('input[id=height]').getAttribute('value'));__cov_wkXEHP40LhHdU9EOUxrnWg.s['38']++;iframenode.setStyle('display','inline');__cov_wkXEHP40LhHdU9EOUxrnWg.s['39']++;var element=Y.one('input[name=modulename]');__cov_wkXEHP40LhHdU9EOUxrnWg.s['40']++;if((__cov_wkXEHP40LhHdU9EOUxrnWg.b['12'][0]++,undefined!==element)&&((__cov_wkXEHP40LhHdU9EOUxrnWg.b['12'][1]++,'kalvidres'===this.modulename)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['12'][2]++,'kalvidpres'===this.modulename))){__cov_wkXEHP40LhHdU9EOUxrnWg.b['11'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['41']++;this.lti_panel_change_add_media_button_caption();}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['11'][1]++;}__cov_wkXEHP40LhHdU9EOUxrnWg.s['42']++;document.body.bsePopup.close();},lti_panel_change_add_media_button_caption:function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['7']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['43']++;var buttoncaption=M.util.get_string('replace_video',this.modulename);__cov_wkXEHP40LhHdU9EOUxrnWg.s['44']++;if(buttoncaption!==Y.one('#'+this.addvidbtnid).getAttribute('value')){__cov_wkXEHP40LhHdU9EOUxrnWg.b['13'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['45']++;Y.one('#'+this.addvidbtnid).setAttribute('value',buttoncaption);}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['13'][1]++;}}},{NAME:'moodle-local_kaltura-ltipanel',ATTRS:{addvidbtnid:{value:'0'},ltilaunchurl:{value:'0'},height:{value:0},width:{value:0},modulename:{value:''}}});__cov_wkXEHP40LhHdU9EOUxrnWg.s['46']++;var LTIPANELMEDIAASSIGNMENT=function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['8']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['47']++;LTIPANELMEDIAASSIGNMENT.superclass.constructor.apply(this,arguments);};__cov_wkXEHP40LhHdU9EOUxrnWg.s['48']++;Y.extend(LTIPANELMEDIAASSIGNMENT,Y.Base,{init:function(params){__cov_wkXEHP40LhHdU9EOUxrnWg.f['9']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['49']++;if((__cov_wkXEHP40LhHdU9EOUxrnWg.b['15'][0]++,'0'===params.addvidbtnid)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['15'][1]++,'0'===params.ltilaunchurl)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['15'][2]++,0===params.courseid)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['15'][3]++,0===params.height)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['15'][4]++,0===params.width)){__cov_wkXEHP40LhHdU9EOUxrnWg.b['14'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['50']++;return;}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['14'][1]++;}__cov_wkXEHP40LhHdU9EOUxrnWg.s['51']++;var addvideobtn=Y.one('#'+params.addvidbtnid);__cov_wkXEHP40LhHdU9EOUxrnWg.s['52']++;addvideobtn.on('click',this.open_bse_popup_callback,this,params.ltilaunchurl,params.height,params.width);},open_bse_popup_callback:function(e,url,height,width){__cov_wkXEHP40LhHdU9EOUxrnWg.f['10']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['53']++;var w=1200;__cov_wkXEHP40LhHdU9EOUxrnWg.s['54']++;var h=700;__cov_wkXEHP40LhHdU9EOUxrnWg.s['55']++;var dualScreenLeft=window.screenLeft!=undefined?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['16'][0]++,window.screenLeft):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['16'][1]++,screen.left);__cov_wkXEHP40LhHdU9EOUxrnWg.s['56']++;var dualScreenTop=window.screenTop!=undefined?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['17'][0]++,window.screenTop):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['17'][1]++,screen.top);__cov_wkXEHP40LhHdU9EOUxrnWg.s['57']++;var width=window.innerWidth?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['18'][0]++,window.innerWidth):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['18'][1]++,document.documentElement.clientWidth?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['19'][0]++,document.documentElement.clientWidth):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['19'][1]++,screen.width));__cov_wkXEHP40LhHdU9EOUxrnWg.s['58']++;var height=window.innerHeight?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['20'][0]++,window.innerHeight):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['20'][1]++,document.documentElement.clientHeight?(__cov_wkXEHP40LhHdU9EOUxrnWg.b['21'][0]++,document.documentElement.clientHeight):(__cov_wkXEHP40LhHdU9EOUxrnWg.b['21'][1]++,screen.height));__cov_wkXEHP40LhHdU9EOUxrnWg.s['59']++;var left=width/2-w/2+dualScreenLeft;__cov_wkXEHP40LhHdU9EOUxrnWg.s['60']++;var top=height/2-h/2+dualScreenTop;__cov_wkXEHP40LhHdU9EOUxrnWg.s['61']++;var bsePopup=window.open(url,M.util.get_string('browse_and_embed','local_kaltura'),'scrollbars=yes, width='+w+', height='+h+', top='+top+', left='+left);__cov_wkXEHP40LhHdU9EOUxrnWg.s['62']++;if(window.focus){__cov_wkXEHP40LhHdU9EOUxrnWg.b['22'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['63']++;bsePopup.focus();}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['22'][1]++;}__cov_wkXEHP40LhHdU9EOUxrnWg.s['64']++;document.body.bsePopup=bsePopup;__cov_wkXEHP40LhHdU9EOUxrnWg.s['65']++;var entrySelectedEvent=this.createEntrySelectedEvent();__cov_wkXEHP40LhHdU9EOUxrnWg.s['66']++;document.body.entrySelectedEvent=entrySelectedEvent;__cov_wkXEHP40LhHdU9EOUxrnWg.s['67']++;document.body.addEventListener('entrySelected',this.close_popup_callback.bind(this),false);},createEntrySelectedEvent:function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['11']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['68']++;var entrySelectedEvent;__cov_wkXEHP40LhHdU9EOUxrnWg.s['69']++;if(typeof window.CustomEvent==='function'){__cov_wkXEHP40LhHdU9EOUxrnWg.b['23'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['70']++;entrySelectedEvent=new CustomEvent('entrySelected');}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['23'][1]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['71']++;entrySelectedEvent=document.createEvent('CustomEvent');__cov_wkXEHP40LhHdU9EOUxrnWg.s['72']++;entrySelectedEvent.initCustomEvent('entrySelected',false,false,{});}__cov_wkXEHP40LhHdU9EOUxrnWg.s['73']++;return entrySelectedEvent;},close_popup_callback:function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['12']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['74']++;Y.one('input[id=submit_video]').removeAttribute('disabled');__cov_wkXEHP40LhHdU9EOUxrnWg.s['75']++;var imagenode=Y.one('img[id=video_thumbnail]');__cov_wkXEHP40LhHdU9EOUxrnWg.s['76']++;imagenode.setStyle('display','none');__cov_wkXEHP40LhHdU9EOUxrnWg.s['77']++;var iframenode=Y.one('iframe[id=contentframe]');__cov_wkXEHP40LhHdU9EOUxrnWg.s['78']++;iframenode.setAttribute('width',Y.one('input[id=width]').getAttribute('value'));__cov_wkXEHP40LhHdU9EOUxrnWg.s['79']++;iframenode.setAttribute('height',Y.one('input[id=height]').getAttribute('value'));__cov_wkXEHP40LhHdU9EOUxrnWg.s['80']++;iframenode.setStyle('display','inline');__cov_wkXEHP40LhHdU9EOUxrnWg.s['81']++;Y.one('#id_add_video').set('value',M.util.get_string('replacevideo','kalvidassign'));__cov_wkXEHP40LhHdU9EOUxrnWg.s['82']++;document.body.bsePopup.close();}},{NAME:'moodle-local_kaltura-ltipanel',ATTRS:{addvidbtnid:{value:'0'},ltilaunchurl:{value:'0'},height:{value:0},width:{value:0}}});__cov_wkXEHP40LhHdU9EOUxrnWg.s['83']++;var LTISUBMISSIONREVIEW=function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['13']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['84']++;LTISUBMISSIONREVIEW.superclass.constructor.apply(this,arguments);};__cov_wkXEHP40LhHdU9EOUxrnWg.s['85']++;Y.extend(LTISUBMISSIONREVIEW,Y.Base,{ltimediaassignment:null,init:function(ltimediaassignment){__cov_wkXEHP40LhHdU9EOUxrnWg.f['14']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['86']++;this.ltimediaassignment=ltimediaassignment;__cov_wkXEHP40LhHdU9EOUxrnWg.s['87']++;Y.one('form[id=fastgrade]').delegate('click',this.review_submission,'a[name=submission_source]',this);},review_submission:function(e){__cov_wkXEHP40LhHdU9EOUxrnWg.f['15']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['88']++;e.preventDefault();__cov_wkXEHP40LhHdU9EOUxrnWg.s['89']++;var source,height,width;__cov_wkXEHP40LhHdU9EOUxrnWg.s['90']++;if(e.target.test('a')){__cov_wkXEHP40LhHdU9EOUxrnWg.b['24'][0]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['91']++;source=e.target.getAttribute('href');__cov_wkXEHP40LhHdU9EOUxrnWg.s['92']++;height=e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=height]').get('value');__cov_wkXEHP40LhHdU9EOUxrnWg.s['93']++;width=e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=width]').get('value');}else{__cov_wkXEHP40LhHdU9EOUxrnWg.b['24'][1]++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['94']++;source=e.target.ancestor('a[name=submission_source]').getAttribute('href');__cov_wkXEHP40LhHdU9EOUxrnWg.s['95']++;height=e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=height]').get('value');__cov_wkXEHP40LhHdU9EOUxrnWg.s['96']++;width=e.target.ancestor('div[name=media_submission]').get('childNodes').filter('input[name=width]').get('value');}__cov_wkXEHP40LhHdU9EOUxrnWg.s['97']++;this.ltimediaassignment.open_bse_popup_callback(null,source,height,width);}},{NAME:'moodle-local_kaltura-ltipanel'});__cov_wkXEHP40LhHdU9EOUxrnWg.s['98']++;M.local_kaltura=(__cov_wkXEHP40LhHdU9EOUxrnWg.b['25'][0]++,M.local_kaltura)||(__cov_wkXEHP40LhHdU9EOUxrnWg.b['25'][1]++,{});__cov_wkXEHP40LhHdU9EOUxrnWg.s['99']++;M.local_kaltura.init=function(params){__cov_wkXEHP40LhHdU9EOUxrnWg.f['16']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['100']++;return new LTIPANEL(params);};__cov_wkXEHP40LhHdU9EOUxrnWg.s['101']++;M.local_kaltura.initmediaassignment=function(params){__cov_wkXEHP40LhHdU9EOUxrnWg.f['17']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['102']++;return new LTIPANELMEDIAASSIGNMENT(params);};__cov_wkXEHP40LhHdU9EOUxrnWg.s['103']++;M.local_kaltura.initreviewsubmission=function(){__cov_wkXEHP40LhHdU9EOUxrnWg.f['18']++;__cov_wkXEHP40LhHdU9EOUxrnWg.s['104']++;var args={addvidbtnid:'0',ltilaunchurl:'0',courseid:0,height:0,width:0};__cov_wkXEHP40LhHdU9EOUxrnWg.s['105']++;var mediaassignment=new LTIPANELMEDIAASSIGNMENT(args);__cov_wkXEHP40LhHdU9EOUxrnWg.s['106']++;return new LTISUBMISSIONREVIEW(mediaassignment);};},'@VERSION@',{'requires':['base','node','panel','node-event-simulate']});
