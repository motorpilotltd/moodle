if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-local_kaltura-ltitinymcepanel/moodle-local_kaltura-ltitinymcepanel.js']) {
   __coverage__['build/moodle-local_kaltura-ltitinymcepanel/moodle-local_kaltura-ltitinymcepanel.js'] = {"path":"build/moodle-local_kaltura-ltitinymcepanel/moodle-local_kaltura-ltitinymcepanel.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":48},"end":{"line":1,"column":67}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":22},"end":{"line":31,"column":33}}},"3":{"name":"(anonymous_3)","line":48,"loc":{"start":{"line":48,"column":11},"end":{"line":48,"column":28}}},"4":{"name":"(anonymous_4)","line":75,"loc":{"start":{"line":75,"column":23},"end":{"line":75,"column":61}}},"5":{"name":"(anonymous_5)","line":94,"loc":{"start":{"line":94,"column":35},"end":{"line":94,"column":98}}},"6":{"name":"(anonymous_6)","line":137,"loc":{"start":{"line":137,"column":23},"end":{"line":137,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":142,"column":80}},"2":{"start":{"line":31,"column":0},"end":{"line":33,"column":2}},"3":{"start":{"line":32,"column":4},"end":{"line":32,"column":66}},"4":{"start":{"line":35,"column":0},"end":{"line":129,"column":3}},"5":{"start":{"line":50,"column":8},"end":{"line":53,"column":9}},"6":{"start":{"line":51,"column":12},"end":{"line":51,"column":59}},"7":{"start":{"line":52,"column":12},"end":{"line":52,"column":19}},"8":{"start":{"line":56,"column":8},"end":{"line":56,"column":95}},"9":{"start":{"line":59,"column":8},"end":{"line":59,"column":60}},"10":{"start":{"line":62,"column":8},"end":{"line":62,"column":173}},"11":{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},"12":{"start":{"line":65,"column":12},"end":{"line":65,"column":62}},"13":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"14":{"start":{"line":77,"column":12},"end":{"line":77,"column":74}},"15":{"start":{"line":80,"column":8},"end":{"line":80,"column":152}},"16":{"start":{"line":81,"column":8},"end":{"line":81,"column":48}},"17":{"start":{"line":95,"column":8},"end":{"line":95,"column":61}},"18":{"start":{"line":96,"column":8},"end":{"line":96,"column":54}},"19":{"start":{"line":97,"column":8},"end":{"line":97,"column":46}},"20":{"start":{"line":99,"column":8},"end":{"line":99,"column":56}},"21":{"start":{"line":100,"column":8},"end":{"line":100,"column":56}},"22":{"start":{"line":101,"column":8},"end":{"line":101,"column":51}},"23":{"start":{"line":102,"column":8},"end":{"line":102,"column":72}},"24":{"start":{"line":103,"column":8},"end":{"line":103,"column":51}},"25":{"start":{"line":104,"column":8},"end":{"line":104,"column":86}},"26":{"start":{"line":106,"column":8},"end":{"line":106,"column":30}},"27":{"start":{"line":107,"column":8},"end":{"line":107,"column":50}},"28":{"start":{"line":130,"column":0},"end":{"line":130,"column":40}},"29":{"start":{"line":137,"column":0},"end":{"line":139,"column":2}},"30":{"start":{"line":138,"column":4},"end":{"line":138,"column":39}}},"branchMap":{"1":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"2":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":37}},{"start":{"line":50,"column":41},"end":{"line":50,"column":67}},{"start":{"line":50,"column":71},"end":{"line":50,"column":100}},{"start":{"line":50,"column":104},"end":{"line":50,"column":129}},{"start":{"line":50,"column":133},"end":{"line":50,"column":162}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"4":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"5":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":18},"end":{"line":130,"column":33}},{"start":{"line":130,"column":37},"end":{"line":130,"column":39}}]}},"code":["(function () { YUI.add('moodle-local_kaltura-ltitinymcepanel', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/","//","// Moodle is free software: you can redistribute it and/or modify","// it under the terms of the GNU General Public License as published by","// the Free Software Foundation, either version 3 of the License, or","// (at your option) any later version.","//","// Moodle is distributed in the hope that it will be useful,","// but WITHOUT ANY WARRANTY; without even the implied warranty of","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","// GNU General Public License for more details.","//","// You should have received a copy of the GNU General Public License","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.","","/**"," * YUI module for displaying an LTI launch within a YUI panel."," *"," * @package    local_kaltura"," * @author     Remote-Learner.net Inc"," * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later"," * @copyright  (C) 2014 Remote Learner.net Inc http://www.remote-learner.net"," */",""," /**"," * This method calls the base class constructor"," * @method LTITINYMCEPANEL"," */","var LTITINYMCEPANEL = function() {","    LTITINYMCEPANEL.superclass.constructor.apply(this, arguments);","};","","Y.extend(LTITINYMCEPANEL, Y.Base, {","    /**","     * The context id the editor was launched in.","     * @property contextid","     * @type {Integer}","     * @default null","     */","    contextid: 0,","","    /**","     * Init function for the checkboxselection module","     * @property {Object} params Data to help initialize the YUI module.","     */","    init : function(params) {","        // Check to make sure parameters are initialized.","        if ('' === params.insertbtnid || '' === params.ltilaunchurl || '' === params.objecttagheight || '' === params.objecttagid || '' === params.previewiframeid) {","            alert('Some parameters were not initialized.');","            return;","        }","","        // Initialize the the browse when the window is initially rendered.","        this.load_lti_content(params.ltilaunchurl, params.objecttagid, params.objecttagheight);","","        // Disable the insert button since nothing has been selected yet.","        Y.one('#'+params.insertbtnid).set('disabled', true);","","        // Listen to simulated click event send from local/kaltura/service.php","        Y.one('#closeltipanel').on('click', this.user_selected_video_callback, this, params.insertbtnid, params.objecttagid, params.previewiframeid, params.objecttagheight);","","        if (null !== Y.one('#page-footer')) {","            Y.one('#page-footer').setStyle('display', 'none');","        }","    },","","    /**","     * A funciton to load the LTI content.  This is called when the YUI module is first initialized.","     * @property {String} url LTI launch URL.","     * @property {String} iframeid iframe tag id.","     * @property {String} iframeheight iframe tag height.","     */","    load_lti_content : function(url, iframeid, iframeheight) {","        if (0 === this.contextid) {","            this.contextid = Y.one('#lti_launch_context_id').get('value');","        }","","        var content = '<iframe id=\"lti_view_element\" height=\"'+iframeheight+'px\" width=\"100%\" src=\"'+url+'&amp;contextid='+this.contextid+'\"></iframe>';","        Y.one('#'+iframeid).setContent(content);","    },","","    /**","     * This function serves as a call back method for when the closeltipanel div has been clicked.  It means that the user has","     * selected a video for embedding into the TinyMCE edotor.  Enabling the insert button, removing the contents LTI launch element and","     * adding content to the media preview element.","     * @property {Object} e Event object.","     * @property {String} insertbtnid Insert button id.","     * @property {String} objecttagid Object tag id.","     * @property {String} previewiframeid Preview iframe tag id.","     * @property {String} height Height of the iframe.","     */","    user_selected_video_callback : function(e, insertbtnid, objecttagid, previewiframeid, height) {","        Y.one('#'+insertbtnid).setStyle('display', 'inline');","        Y.one('#'+insertbtnid).set('disabled', false);","        Y.one('#'+objecttagid).setContent('');","","        var center = Y.Node.create('<center></center>');","        var iframe = Y.Node.create('<iframe></iframe>');","        iframe.setAttribute('allowfullscreen', '');","        iframe.setAttribute('width', Y.one('#width').get('value')+'px');","        iframe.setAttribute('height', height+'px');","        iframe.setAttribute('src', Y.one('#video_preview_frame').getAttribute('src'));","","        center.append(iframe);","        Y.one('#'+previewiframeid).append(center);","    }","},","{","    NAME : 'moodle-local_kaltura-ltitinymcepanel',","    ATTRS : {","        insertbtnid : {","            value : ''","        },","        ltilaunchurl : {","            value : ''","        },","        objecttagheight : {","            value : ''","        },","        objecttagid : {","            value : ''","        },","        previewiframeid : {","            value : ''","        }","    }","});","M.local_kaltura = M.local_kaltura || {};","","/**"," * Entry point for ltipanel module"," * @param {Object} params Additional parameters."," * @return {Object} the ltipanel object"," */","M.local_kaltura.init = function(params) {","    return new LTITINYMCEPANEL(params);","};","","","}, '@VERSION@', {\"requires\": [\"base\", \"node\", \"panel\", \"node-event-simulate\"]});","","}());"]};
}
var __cov_4r_$cjVvDN3vxbpH9AvD6A = __coverage__['build/moodle-local_kaltura-ltitinymcepanel/moodle-local_kaltura-ltitinymcepanel.js'];
__cov_4r_$cjVvDN3vxbpH9AvD6A.s['1']++;YUI.add('moodle-local_kaltura-ltitinymcepanel',function(Y,NAME){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['1']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['2']++;var LTITINYMCEPANEL=function(){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['2']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['3']++;LTITINYMCEPANEL.superclass.constructor.apply(this,arguments);};__cov_4r_$cjVvDN3vxbpH9AvD6A.s['4']++;Y.extend(LTITINYMCEPANEL,Y.Base,{contextid:0,init:function(params){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['3']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['5']++;if((__cov_4r_$cjVvDN3vxbpH9AvD6A.b['2'][0]++,''===params.insertbtnid)||(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['2'][1]++,''===params.ltilaunchurl)||(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['2'][2]++,''===params.objecttagheight)||(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['2'][3]++,''===params.objecttagid)||(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['2'][4]++,''===params.previewiframeid)){__cov_4r_$cjVvDN3vxbpH9AvD6A.b['1'][0]++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['6']++;alert('Some parameters were not initialized.');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['7']++;return;}else{__cov_4r_$cjVvDN3vxbpH9AvD6A.b['1'][1]++;}__cov_4r_$cjVvDN3vxbpH9AvD6A.s['8']++;this.load_lti_content(params.ltilaunchurl,params.objecttagid,params.objecttagheight);__cov_4r_$cjVvDN3vxbpH9AvD6A.s['9']++;Y.one('#'+params.insertbtnid).set('disabled',true);__cov_4r_$cjVvDN3vxbpH9AvD6A.s['10']++;Y.one('#closeltipanel').on('click',this.user_selected_video_callback,this,params.insertbtnid,params.objecttagid,params.previewiframeid,params.objecttagheight);__cov_4r_$cjVvDN3vxbpH9AvD6A.s['11']++;if(null!==Y.one('#page-footer')){__cov_4r_$cjVvDN3vxbpH9AvD6A.b['3'][0]++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['12']++;Y.one('#page-footer').setStyle('display','none');}else{__cov_4r_$cjVvDN3vxbpH9AvD6A.b['3'][1]++;}},load_lti_content:function(url,iframeid,iframeheight){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['4']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['13']++;if(0===this.contextid){__cov_4r_$cjVvDN3vxbpH9AvD6A.b['4'][0]++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['14']++;this.contextid=Y.one('#lti_launch_context_id').get('value');}else{__cov_4r_$cjVvDN3vxbpH9AvD6A.b['4'][1]++;}__cov_4r_$cjVvDN3vxbpH9AvD6A.s['15']++;var content='<iframe id="lti_view_element" height="'+iframeheight+'px" width="100%" src="'+url+'&amp;contextid='+this.contextid+'"></iframe>';__cov_4r_$cjVvDN3vxbpH9AvD6A.s['16']++;Y.one('#'+iframeid).setContent(content);},user_selected_video_callback:function(e,insertbtnid,objecttagid,previewiframeid,height){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['5']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['17']++;Y.one('#'+insertbtnid).setStyle('display','inline');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['18']++;Y.one('#'+insertbtnid).set('disabled',false);__cov_4r_$cjVvDN3vxbpH9AvD6A.s['19']++;Y.one('#'+objecttagid).setContent('');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['20']++;var center=Y.Node.create('<center></center>');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['21']++;var iframe=Y.Node.create('<iframe></iframe>');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['22']++;iframe.setAttribute('allowfullscreen','');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['23']++;iframe.setAttribute('width',Y.one('#width').get('value')+'px');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['24']++;iframe.setAttribute('height',height+'px');__cov_4r_$cjVvDN3vxbpH9AvD6A.s['25']++;iframe.setAttribute('src',Y.one('#video_preview_frame').getAttribute('src'));__cov_4r_$cjVvDN3vxbpH9AvD6A.s['26']++;center.append(iframe);__cov_4r_$cjVvDN3vxbpH9AvD6A.s['27']++;Y.one('#'+previewiframeid).append(center);}},{NAME:'moodle-local_kaltura-ltitinymcepanel',ATTRS:{insertbtnid:{value:''},ltilaunchurl:{value:''},objecttagheight:{value:''},objecttagid:{value:''},previewiframeid:{value:''}}});__cov_4r_$cjVvDN3vxbpH9AvD6A.s['28']++;M.local_kaltura=(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['5'][0]++,M.local_kaltura)||(__cov_4r_$cjVvDN3vxbpH9AvD6A.b['5'][1]++,{});__cov_4r_$cjVvDN3vxbpH9AvD6A.s['29']++;M.local_kaltura.init=function(params){__cov_4r_$cjVvDN3vxbpH9AvD6A.f['6']++;__cov_4r_$cjVvDN3vxbpH9AvD6A.s['30']++;return new LTITINYMCEPANEL(params);};},'@VERSION@',{'requires':['base','node','panel','node-event-simulate']});
