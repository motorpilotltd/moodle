define(["jquery"],function(a){return{initialise:function(){a("select#id_regions_field_region").change(function(){var b=a(this),c=b.find('option[value="0"]');0===b.find("option:selected").length&&c.prop("selected",!0),c.is(":selected")?(c.siblings("option").prop("selected",!1),a("div#fitem_id_regions_field_subregion_all").hide(),a("div#fitem_id_regions_field_subregion").hide()):(a("div#fitem_id_regions_field_subregion_all").show(),a("div#fitem_id_regions_field_subregion").show()),b.find("option").each(function(){var b=a(this),c=b.text(),d=a("select#id_regions_field_subregion").find('optgroup[label="'+c+'"]');b.is(":selected")?d.css("display","block"):d.css("display","none").find("option").each(function(){a(this).prop("selected",!1)})});var d=a("select#id_regions_field_subregion option:visible"),e=a('select#id_regions_field_subregion optgroup:visible[label!=""]'),f=d.length+e.length;if(f>1){a("div#fitem_id_regions_field_subregion_all").show(),a("div#fitem_id_regions_field_subregion").show(),a("select#id_regions_field_subregion").prop("size",Math.min(f,10)),a("select#id_regions_field_subregion option").prop("selected",!1);var g=a("select#id_regions_field_subregion");b.find("option:selected").each(function(){g.find('optgroup[label="'+a(this).text()+'"]').children("option").prop("selected",!0)})}else a("div#fitem_id_regions_field_subregion_all").hide(),a("div#fitem_id_regions_field_subregion").hide()}),a("input#id_regions_field_subregion_all").change(function(){var b=a(this);if(a("select#id_regions_field_subregion option").prop("selected",!1),b.is(":checked")){var c=a("select#id_regions_field_subregion");a("select#id_regions_field_region option:selected").each(function(){var b=a(this);c.find('optgroup[label="'+b.text()+'"]').children("option").prop("selected",!0)})}}),a("select#id_regions_field_region").change()}}});