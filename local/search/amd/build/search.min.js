define(["jquery","local_search/searchtabs","local_search/infinitescroll","local_search/videoframes","local_search/collapser","local_search/filters"],function(a,b,c,d,e,f){var g=function(){var b=a(this).parents("form"),c=a("#course-region-select"),d=b.find('input[name="region"]');d.length?d.val(c.val()):b.append('<input name="region" value="'+c.val()+'" type="hidden">'),b.submit()},h=function(a){a.contentTab.find(".description").collapser({mode:"lines",truncate:3,hideText:"Show less",speed:"medium"})};return a(document).on("tabchanged",function(a){h(a.tab)}),{init:function(){f.init(),c.apply(),d.apply(),e.extend(),a("#localcoursesearch").on("click","button",g),a(".tab-container").on("change",".orderby-form select",function(){var c=a(this).val(),d=b.findSearchTab(this).setPage(0).setSort(c);d.load().done(function(){h(d)})}),a(".tab-container").on("change",".region-filter-form select",function(){var c=a(this).val(),d=0,e=b.findSearchTab(this);e.contentTab.find(".course-results")&&(d=1),e.setPage(d).setRegion(c),e.load().done(function(){h(e)})})}}});